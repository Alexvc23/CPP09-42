#!/bin/bash

# Define test cases
TEST_CASES=(
    "2 3 +" "5"
    "4 2 -" "2"
    "3 5 *" "15"
    "6 2 /" "3"
    "2 3 **" "8"
    "2 +" "Error: insufficient operands for operator "
    "+ 2 3" "Error: invalid token "
    "2 0 /" "Error: division by zero"
    "1e10 1e10 *" "Error: result too large"
    "1 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 +" "21"
    "1 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 -" "-19"
    "2 3 * 4 5 * +" "26"
    "2 3 * 4 5 * -" "-14"
    "2 3 * 4 5 * /" "0.3"
    "2 3 ** 4 5 ** +" "1048578"
    "2 3 ** 4 5 ** -" "-1048572"
    "2 3 ** 4 5 ** /" "9.5367431640625e-07"
    "2 3 ** 4 5 ** 6 7 ** +" "1176498"
    "2 3 ** 4 5 ** 6 7 ** -" "-1176492"
    "2 3 ** 4 5 ** 6 7 ** /" "8.138020833333333e-14"
    "2 3 ** 4 5 ** 6 7 ** 8 9 ** +" "348678466"
    "2 3 ** 4 5 ** 6 7 ** 8 9 ** -" "-348678458"
    "2 3 ** 4 5 ** 6 7 ** 8 9 ** /" "2.3283064365386963e-10"
    "2 3 ** 4 5 ** 6 7 ** 8 9 ** 10 11 ** +" "3486784661"
    "2 3 ** 4 5 ** 6 7 ** 8 9 ** 10 11 ** -" "-3486784659"
    "2 3 ** 4 5 ** 6 7 ** 8 9 ** 10 11 ** /" "2.328306436538696e-09"
    "2 3 ** 4 5 ** 6 7 ** 8 9 ** 10 11 ** 12 13 ** +" "34867846673"
    "2 3 ** 4 5 ** 6 7 ** 8 9 ** 10 11 ** 12 13 ** -" "-34867846671"
    "2 3 ** 4 5 ** 6 7 ** 8 9 ** 10 11 ** 12 13 ** /" "2.328306436538696e-08"
)

# Loop through test cases
for (( i=0; i<${#TEST_CASES[@]}; i+=2 )); do
  input="${TEST_CASES[i]}"
  expected="${TEST_CASES[i+1]}"
  output=$(./RPN "$input" 2>&1)
  if [[ "$output" == "$expected" ]]; then
    echo "PASS: $input = $expected"
  else
    echo "FAIL: $input = $output (expected $expected)"
  fi
done



#conventional operations
# "1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1 + 1" "21"
# "1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1 - 1" "-21"
# "2 * 3 + 4 * 5" "26"
# "2 * 3 - 4 * 5" "-14"
# "2 * 3 / 4 * 5" "1.5"
# "2^3 + 4^5" "1048578"
# "2^3 - 4^5" "-1048572"
# "2^3 / 4^5" "9.5367431640625e-07"
# "2^3 + 4^5 + 6^7" "1176498"
# "2^3 - 4^5 - 6^7" "-1176492"
# "2^3 / 4^5 / 6^7" "8.138020833333333e-14"
# "2^3 + 4^5 + 6^7 + 8^9" "348678466"
# "2^3 - 4^5 - 6^7 - 8^9" "-348678458"
# "2^3 / 4^5 / 6^7 / 8^9" "2.3283064365386963e-10"
# "2^3 + 4^5 + 6^7 + 8^9 + 10^11" "3486784661"
# "2^3 - 4^5 - 6^7 - 8^9 - 10^11" "-3486784659"
# "2^3 / 4^5 / 6^7 / 8^9 / 10^11" "2.328306436538696e-09"
# "2^3 + 4^5 + 6^7 + 8^9 + 10^11 + 12^13" "34867846673"
# "2^3 - 4^5 - 6^7 - 8^9 - 10^11 - 12^13" "-34867846671"
# "2^3 / 4^5 / 6^7 / 8^9 / 10^11 / 12^13" "2.328306436538696e-08"